---
phase: 10-content-ingestion
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/concepts/.gitkeep"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/writing/.gitkeep"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/sources/.gitkeep"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/explorations/.gitkeep"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/ideas/.gitkeep"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/index.md"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-concept.md"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-source.md"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-writing.md"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-exploration.md"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-idea.md"
  - "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/.obsidian/plugins/auto-note-mover/data.json"
  - "/Users/adial/Documents/GitHub/athan-dial.github.io/model-citizen/scripts/sync-to-quartz.sh"
autonomous: true

must_haves:
  truths:
    - "700 Model Citizen/ folder exists in 2B-new vault with 5 section subfolders"
    - "Adding #model-citizen/concept tag to a note moves it to 700 Model Citizen/concepts/"
    - "Five Obsidian templates exist and are usable via template picker"
    - "Sync script copies 700 Model Citizen/ contents to quartz/content/ and pushes"
  artifacts:
    - path: "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/index.md"
      provides: "Quartz landing page for Model Citizen"
      contains: "model-citizen"
    - path: "/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/.obsidian/plugins/auto-note-mover/data.json"
      provides: "Auto Note Mover routing rules"
      contains: "model-citizen"
    - path: "/Users/adial/Documents/GitHub/athan-dial.github.io/model-citizen/scripts/sync-to-quartz.sh"
      provides: "Sync script for 700/ to Quartz"
      contains: "rsync"
  key_links:
    - from: "Auto Note Mover config"
      to: "700 Model Citizen/ subfolders"
      via: "tag-to-folder mapping rules"
      pattern: "model-citizen/(concept|writing|source|exploration|idea)"
    - from: "sync-to-quartz.sh"
      to: "/Users/adial/Documents/GitHub/quartz/content/"
      via: "rsync from 700 Model Citizen/"
      pattern: "rsync.*700 Model Citizen"
---

<objective>
Create the 700 Model Citizen/ folder structure in 2B-new vault, configure Auto Note Mover for tag-based routing, create five Obsidian templates, and build the sync script to push curated content to Quartz.

Purpose: Establishes the vault-side curation infrastructure — the foundation that all ingestion tools feed into.
Output: Working vault structure with tag-based routing, templates, and Quartz sync.
</objective>

<execution_context>
@/Users/adial/.claude/get-shit-done/workflows/execute-plan.md
@/Users/adial/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-content-ingestion-from-various-locations-into-the-central-model-citizen-vault/10-DESIGN.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create 700 Model Citizen/ vault structure and Obsidian templates</name>
  <files>
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/concepts/.gitkeep
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/writing/.gitkeep
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/sources/.gitkeep
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/explorations/.gitkeep
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/ideas/.gitkeep
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/index.md
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-concept.md
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-source.md
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-writing.md
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-exploration.md
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/000 System/03 Templates/model-citizen-idea.md
  </files>
  <action>
    Create the 700 Model Citizen/ directory with 5 subfolders (concepts/, writing/, sources/, explorations/, ideas/) and .gitkeep in each.

    Create index.md as the Quartz landing page with frontmatter: title "Model Citizen", tags [model-citizen], and brief intro text explaining the sections with wiki-links to each subfolder.

    Create 5 Obsidian templates in 000 System/03 Templates/:

    **model-citizen-concept.md:**
    ```
    ---
    title: "{{title}}"
    aliases: []
    tags: [model-citizen/concept]
    related: []
    created: "{{date}}"
    ---

    ## What It Is

    ## How It Works

    ## Where I've Seen It
    ```

    **model-citizen-source.md:**
    ```
    ---
    title: "{{title}}"
    url: ""
    source_type: article
    captured_at: "{{date}}"
    tags: [model-citizen/source]
    ---

    ## Summary

    ## Key Ideas

    ## Quotes
    ```

    **model-citizen-writing.md:**
    ```
    ---
    title: "{{title}}"
    date: "{{date}}"
    tags: [model-citizen/writing]
    draft: true
    ---
    ```

    **model-citizen-exploration.md:**
    ```
    ---
    title: "{{title}}"
    tags: [model-citizen/exploration]
    status: active
    created: "{{date}}"
    ---

    ## Premise

    ## Design

    ## Open Questions
    ```

    **model-citizen-idea.md:**
    ```
    ---
    title: "{{title}}"
    tags: [model-citizen/idea]
    created: "{{date}}"
    ---
    ```

    Use Obsidian's template variable syntax ({{title}}, {{date}}) so the core Templates plugin can populate them.
  </action>
  <verify>
    Confirm all 5 subfolders exist under 700 Model Citizen/, index.md exists, and all 5 templates exist in 000 System/03 Templates/ with correct frontmatter tags.
  </verify>
  <done>700 Model Citizen/ has 5 section folders + index.md, and 5 templates are ready for use in Obsidian template picker.</done>
</task>

<task type="auto">
  <name>Task 2: Configure Auto Note Mover and create sync script</name>
  <files>
    /Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/.obsidian/plugins/auto-note-mover/data.json
    /Users/adial/Documents/GitHub/athan-dial.github.io/model-citizen/scripts/sync-to-quartz.sh
  </files>
  <action>
    **Auto Note Mover:**
    First check if Auto Note Mover plugin is already installed by looking for the plugin directory at `.obsidian/plugins/auto-note-mover/`. If it exists, read existing data.json and ADD rules (don't replace existing rules). If it doesn't exist, create the plugin directory and data.json.

    The data.json should contain tag-based trigger rules:
    - Tag `#model-citizen/concept` → folder `700 Model Citizen/concepts/`
    - Tag `#model-citizen/writing` → folder `700 Model Citizen/writing/`
    - Tag `#model-citizen/source` → folder `700 Model Citizen/sources/`
    - Tag `#model-citizen/exploration` → folder `700 Model Citizen/explorations/`
    - Tag `#model-citizen/idea` → folder `700 Model Citizen/ideas/`

    Look at Auto Note Mover's data.json format — it uses an array of rules with `triggers` (tag-based) and `destination` (folder path). Check the plugin's GitHub repo docs if needed to get the exact JSON schema.

    **Sync Script:**
    Create sync-to-quartz.sh that:
    1. Sources from: `/Users/adial/Library/Mobile Documents/iCloud~md~obsidian/Documents/2B-new/700 Model Citizen/`
    2. Targets: `/Users/adial/Documents/GitHub/quartz/content/`
    3. Uses rsync with --delete to mirror (remove from Quartz when removed from vault)
    4. Excludes .gitkeep files
    5. After sync, cd into quartz repo, git add, commit with timestamp, and push
    6. Supports --dry-run flag
    7. Uses lock file to prevent concurrent runs
    8. Follows existing script patterns from model-citizen-vault (set -euo pipefail, color output, trap cleanup)

    This replaces the old publish-sync.sh which used the workflow-based folder taxonomy. The new script is simpler — just rsync a folder.
  </action>
  <verify>
    Verify Auto Note Mover data.json is valid JSON with 5 model-citizen tag rules. Verify sync-to-quartz.sh is syntactically valid with `bash -n`. Run `sync-to-quartz.sh --dry-run` and confirm it shows what would be synced without actually modifying files.
  </verify>
  <done>Auto Note Mover routes tagged notes to correct 700/ subfolders. Sync script mirrors 700 Model Citizen/ to quartz/content/ with git push.</done>
</task>

</tasks>

<verification>
- All 5 section folders exist under 700 Model Citizen/ in 2B-new vault
- index.md exists with model-citizen tag
- 5 templates exist in 000 System/03 Templates/ with correct tag prefixes
- Auto Note Mover data.json has 5 routing rules
- sync-to-quartz.sh passes bash -n and --dry-run works
</verification>

<success_criteria>
- Tag-based curation system is functional (tag → folder routing)
- Templates available for all 5 content types
- Sync script can push curated content to Quartz
</success_criteria>

<output>
After completion, create `.planning/phases/10-content-ingestion-from-various-locations-into-the-central-model-citizen-vault/10-01-SUMMARY.md`
</output>
