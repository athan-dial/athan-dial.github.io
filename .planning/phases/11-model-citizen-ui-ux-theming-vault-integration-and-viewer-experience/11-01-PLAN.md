---
phase: 11-model-citizen-ui-ux-theming-vault-integration-and-viewer-experience
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - /Users/adial/Documents/GitHub/quartz/quartz.config.ts
  - /Users/adial/Documents/GitHub/quartz/quartz/styles/custom.scss
autonomous: true

must_haves:
  truths:
    - "Quartz site uses executive blue (#1E3A5F) as primary link/accent color"
    - "Dark mode uses brightened blue (#4A90E2) with sufficient contrast on dark backgrounds"
    - "Typography uses Inter for headers/body with readable line height"
    - "Content area constrains line length to ~65 characters for readability"
  artifacts:
    - path: "/Users/adial/Documents/GitHub/quartz/quartz.config.ts"
      provides: "Theme colors and font configuration"
      contains: "1E3A5F"
    - path: "/Users/adial/Documents/GitHub/quartz/quartz/styles/custom.scss"
      provides: "Brand token overrides, typography, and reader experience styles"
      contains: "Executive blue"
  key_links:
    - from: "quartz.config.ts colors"
      to: "custom.scss overrides"
      via: "CSS variables (--secondary, --tertiary, etc.)"
      pattern: "--secondary"
---

<objective>
Configure Quartz theme colors and typography to match the portfolio site's Apple-inspired executive blue aesthetic, and optimize reader experience with proper line length, font sizing, and dark mode contrast.

Purpose: Establish brand consistency between portfolio site (athan-dial.github.io) and Model Citizen (athan-dial.github.io/model-citizen/)
Output: Updated quartz.config.ts with brand colors + custom.scss with typography and design token overrides
</objective>

<execution_context>
@/Users/adial/.claude/get-shit-done/workflows/execute-plan.md
@/Users/adial/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-model-citizen-ui-ux-theming-vault-integration-and-viewer-experience/11-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update quartz.config.ts with brand colors and site metadata</name>
  <files>/Users/adial/Documents/GitHub/quartz/quartz.config.ts</files>
  <action>
Edit quartz.config.ts to:

1. Update pageTitle from "Atlas" to "Model Citizen"
2. Add pageTitleSuffix: " | Athan Dial"
3. Update baseUrl to "athan-dial.github.io/model-citizen" (include subpath)
4. Add "inbox", "drafts", "publish_queue" to ignorePatterns array
5. Replace lightMode colors with portfolio-aligned palette:
   - light: "#FFFFFF" (clean white background)
   - lightgray: "#E5E5EA" (Apple system gray 5)
   - gray: "#AEAEB2" (Apple system gray)
   - darkgray: "#4e4e4e" (body text)
   - dark: "#1D1D1F" (Apple black for headers)
   - secondary: "#1E3A5F" (executive blue - links)
   - tertiary: "#2A4A75" (hover state)
   - highlight: "rgba(30, 58, 95, 0.1)" (blue-tinted highlight)
   - textHighlight: "#1E3A5F22" (subtle blue text highlight)
6. Replace darkMode colors with contrast-safe palette:
   - light: "#1D1D1F" (dark background)
   - lightgray: "#48484A" (dark borders)
   - gray: "#86868B" (dark gray text)
   - darkgray: "#AEAEB2" (secondary text in dark)
   - dark: "#F5F5F7" (light text on dark)
   - secondary: "#4A90E2" (brightened blue for contrast)
   - tertiary: "#5BA3F5" (brighter hover)
   - highlight: "rgba(74, 144, 226, 0.15)" (blue highlight)
   - textHighlight: "#4A90E244" (dark mode text highlight)

Keep all plugins unchanged. Keep typography as Inter/JetBrains Mono (already good).
  </action>
  <verify>Read quartz.config.ts and confirm: pageTitle is "Model Citizen", secondary color is "#1E3A5F" in lightMode, "#4A90E2" in darkMode, ignorePatterns includes "inbox".</verify>
  <done>quartz.config.ts has brand-aligned colors, correct site metadata, and vault folders in ignorePatterns</done>
</task>

<task type="auto">
  <name>Task 2: Rewrite custom.scss with brand tokens, typography, and reader experience styles</name>
  <files>/Users/adial/Documents/GitHub/quartz/quartz/styles/custom.scss</files>
  <action>
Replace the contents of custom.scss with a comprehensive stylesheet that includes:

1. Keep the @use "./base.scss" import at the top.

2. Design token comments mapping portfolio â†’ Quartz variables for documentation.

3. Dark mode overrides using [saved-theme="dark"] selector (reinforce config colors in CSS for specificity):
   - --secondary: #4A90E2
   - --tertiary: #5BA3F5

4. Typography / reader experience:
   - .center max-width: 65ch (optimal line length)
   - p, li, td: font-size 1rem, line-height 1.6
   - h1: 2rem, h2: 1.5rem, h3: 1.25rem, all line-height 1.2
   - Mobile (@media max-width: 800px): .center max-width 100%, padding 0 1rem

5. Link styling:
   - a.internal: color var(--secondary), no text-decoration, border-bottom 1px transparent, 0.2s transition
   - a.internal:hover: color var(--tertiary), border-bottom-color var(--tertiary)

6. Explorer styling:
   - .explorer: clean background var(--light)
   - Folder links: color var(--secondary), font-weight 500
   - Folder hover: color var(--tertiary)

7. Breadcrumbs: font-size 0.875rem, color var(--darkgray), links use --secondary

8. Keep existing useful styles: centered images, table styling, checkbox styling.

9. Remove the top fade effect (.content::before gradient) - it conflicts with clean Apple aesthetic.

10. Remove the .sidebar styles (Quartz uses .explorer, not .sidebar).
  </action>
  <verify>Read custom.scss and confirm: contains "65ch", contains "[saved-theme=\"dark\"]", contains "a.internal", does NOT contain ".content::before" gradient, does NOT contain ".sidebar".</verify>
  <done>custom.scss has brand-consistent design tokens, optimized typography, reader-friendly line length, and clean component styling</done>
</task>

</tasks>

<verification>
1. Run `cd /Users/adial/Documents/GitHub/quartz && npx quartz build` - build succeeds without errors
2. Grep quartz.config.ts for "1E3A5F" - confirms executive blue
3. Grep custom.scss for "65ch" - confirms line length constraint
4. Grep custom.scss for "saved-theme" - confirms dark mode overrides
</verification>

<success_criteria>
- quartz.config.ts has portfolio-aligned color palette (executive blue primary)
- custom.scss has reader-optimized typography (65ch line width, 1rem/1.6 body text)
- Dark mode colors provide sufficient contrast (brightened blues)
- Build succeeds without errors
</success_criteria>

<output>
After completion, create `.planning/phases/11-model-citizen-ui-ux-theming-vault-integration-and-viewer-experience/11-01-SUMMARY.md`
</output>
